window.Haste=window.Haste||{},window.Haste.toggleAjaxOperation=function(e,t){e.blur();const o=$(e).getFirst("img"),a=e.getAttribute("data-haste-ajax-operation-name"),n=e.getAttribute("data-haste-ajax-operation-value"),i=function(e,t){const o=new RegExp(`[\\?&]${e.replace(/\[/,"\\[").replace(/]/,"\\]")}=([^&#]*)`).exec(t);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))}("table",e.getAttribute("href")),r=i?`&table=${i}`:"";return new Request.JSON({followRedirects:!0,url:window.location.href+r,onComplete(t){if(this.getHeader("X-Ajax-Location"))return void window.location.replace(this.getHeader("X-Ajax-Location"));let a=t.nextIcon;-1===a.indexOf("/")&&(a=`${window.Contao.script_url}system/themes/${window.Contao.theme}/icons/${t.nextIcon}`),o.src=a,e.setAttribute("data-haste-ajax-operation-value",t.nextValue)}}).post({action:"hasteAjaxOperation",operation:a,id:t,value:n,REQUEST_TOKEN:window.Contao.request_token}),!1};
//# sourceMappingURL=dca-ajax-operations.12904106.js.map